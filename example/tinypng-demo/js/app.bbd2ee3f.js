(function(){"use strict";var t={2096:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(8533),n=s(8095),a=(s(3190),s(1656)),o=t([n]);n=(o.then?(await o)():o)[0];var l=(0,a.A)(n.A,r.X,r.Y,!1,null,null,null);e.A=l.exports,i()}catch(c){i(c)}}))},1437:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(3035),n=s(6038),a=s(1656),o=t([n]);n=(o.then?(await o)():o)[0];var l=(0,a.A)(n.A,r.X,r.Y,!1,null,null,null);e.A=l.exports,i()}catch(c){i(c)}}))},7772:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(3333),n=s(9919),a=s(1656),o=t([n]);n=(o.then?(await o)():o)[0];var l=(0,a.A)(n.A,r.X,r.Y,!1,null,null,null);e.A=l.exports,i()}catch(c){i(c)}}))},3984:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(9700),n=s(4219),a=s(1656),o=t([n]);n=(o.then?(await o)():o)[0];var l=(0,a.A)(n.A,r.X,r.Y,!1,null,null,null);e.A=l.exports,i()}catch(c){i(c)}}))},5511:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(6e3),n=s(4072),a=s(1656),o=t([n]);n=(o.then?(await o)():o)[0];var l=(0,a.A)(n.A,r.X,r.Y,!1,null,null,null);e.A=l.exports,i()}catch(c){i(c)}}))},3190:function(){},8095:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(5732),n=t([r]);r=(n.then?(await n)():n)[0],e.A=r.A,i()}catch(a){i(a)}}))},6038:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(2109),n=t([r]);r=(n.then?(await n)():n)[0],e.A=r.A,i()}catch(a){i(a)}}))},9919:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(7784),n=t([r]);r=(n.then?(await n)():n)[0],e.A=r.A,i()}catch(a){i(a)}}))},4219:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(4572),n=t([r]);r=(n.then?(await n)():n)[0],e.A=r.A,i()}catch(a){i(a)}}))},4072:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(8661),n=t([r]);r=(n.then?(await n)():n)[0],e.A=r.A,i()}catch(a){i(a)}}))},8533:function(t,e,s){s.d(e,{X:function(){return i},Y:function(){return r}});var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h1",[t._v(" TinyPNG 使用 ")]),e("div",{staticStyle:{display:"flex","margin-top":"50px","flex-direction":"column",width:"820px"}},[e("div",{staticStyle:{position:"relative"}},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"基础使用",name:"base"}},[e("Base",{attrs:{quality:t.quality}})],1),e("el-tab-pane",{attrs:{label:"jpeg/jpg",name:"jpeg"}},[e("Jpeg",{attrs:{quality:t.quality}})],1),e("el-tab-pane",{attrs:{label:"WebWork",name:"webwork"}},[e("WebWork",{attrs:{quality:t.quality}})],1),e("el-tab-pane",{attrs:{label:"CompressWorker",name:"compressWorker"}},[e("CompressWorker",{attrs:{quality:t.quality}})],1)],1),e("div",{staticStyle:{position:"absolute",right:"10px",top:"10px"}},[e("el-link",{attrs:{size:"mini",type:"primary",href:"https://tinypng.wcrane.cn",target:"_blank"}},[t._v("快速开始")])],1)],1),e("div",{staticStyle:{display:"flex","margin-top":"40px"}},[e("div",{staticStyle:{display:"flex",flex:"1","justify-content":"flex-start","align-items":"center"}},[e("div",[t._v("压缩质量（1-100）")]),e("el-input-number",{attrs:{size:"small",min:1,step:10,max:100,label:""},model:{value:t.quality,callback:function(e){t.quality=e},expression:"quality"}})],1),e("div",{staticStyle:{"text-align":"left",flex:"1",display:"flex","align-items":"center"}},[t._v(" 计数："+t._s(t.count)+" ")])])])])},r=[]},3035:function(t,e,s){s.d(e,{X:function(){return i},Y:function(){return r}});var i=function(){var t=this,e=t._self._c;return e("div",[e("el-alert",{attrs:{title:"主线程压缩时大文件会卡住，需要控制文件大小，如需要压缩大文件建议使用web worker",type:"info",closable:!1}}),e("div",{staticStyle:{display:"flex","margin-top":"10px"}},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,"http-request":t.uploadImg,"show-file-list":!1,action:"/"}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),e("div",{staticStyle:{display:"flex"}},[e("el-image",{staticStyle:{"margin-left":"40px",width:"180px",height:"180px","flex-shrink":"0","margin-right":"10px"},attrs:{src:t.imgUrl,"preview-src-list":[t.imgUrl],fit:"contain"}}),t.compressResult.compressedSize?e("el-descriptions",{attrs:{title:"压缩信息",column:1}},[e("el-descriptions-item",{attrs:{label:"压缩前"}},[t._v(t._s(t.getSizeTrans(t.compressResult.originalSize)))]),e("el-descriptions-item",{attrs:{label:"压缩后"}},[t._v(t._s(t.getSizeTrans(t.compressResult.compressedSize)))]),e("el-descriptions-item",{attrs:{label:"压缩率"}},[t._v(t._s(t.compressResult.rateString))]),e("el-descriptions-item",{attrs:{label:"减少"}},[e("el-tag",{attrs:{size:"small",type:"success"}},[t._v(" -"+t._s((100*(1-t.compressResult.rate)).toFixed(2)+"%")+" ")])],1)],1):t._e()],1)],1)],1)},r=[]},3333:function(t,e,s){s.d(e,{X:function(){return i},Y:function(){return r}});var i=function(){var t=this,e=t._self._c;return e("div",[e("el-alert",{attrs:{title:"使用webwork进行图片压缩, 不阻塞主线程, 大文件压缩时体验更好（只支持.png）(CompressWorker类封装)",type:"success",closable:!1}}),e("div",{staticStyle:{display:"flex","margin-top":"10px"}},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,"http-request":t.uploadImg,"show-file-list":!1,action:"/"}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.compressing,expression:"compressing"}],staticStyle:{display:"flex"}},[e("el-image",{staticStyle:{"margin-left":"40px",width:"180px",height:"180px","flex-shrink":"0"},attrs:{src:t.imgUrl,"preview-src-list":[t.imgUrl],fit:"contain"}}),t.compressResult.compressedSize?e("el-descriptions",{attrs:{title:"压缩信息",column:1}},[e("el-descriptions-item",{attrs:{label:"压缩前"}},[t._v(t._s(t.getSizeTrans(t.compressResult.originalSize)))]),e("el-descriptions-item",{attrs:{label:"压缩后"}},[t._v(t._s(t.getSizeTrans(t.compressResult.compressedSize)))]),e("el-descriptions-item",{attrs:{label:"压缩率"}},[t._v(t._s(t.compressResult.rateString))]),e("el-descriptions-item",{attrs:{label:"减少"}},[e("el-tag",{attrs:{size:"small",type:"success"}},[t._v(" -"+t._s((100*(1-t.compressResult.rate)).toFixed(2)+"%")+" ")])],1)],1):t._e()],1)],1)],1)},r=[]},9700:function(t,e,s){s.d(e,{X:function(){return i},Y:function(){return r}});var i=function(){var t=this,e=t._self._c;return e("div",[e("el-alert",{attrs:{type:"warning",title:"使用TinyPNG对Jpeg、Jpg图片进行压缩，原理是使用canvas，无法使用WebWorker",closable:!1}}),e("div",{staticStyle:{display:"flex","margin-top":"10px"}},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,"http-request":t.uploadImg,"show-file-list":!1,action:"/"}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.compressing,expression:"compressing"}],staticStyle:{display:"flex"}},[e("el-image",{staticStyle:{"margin-left":"40px",width:"180px",height:"180px","flex-shrink":"0","margin-right":"10px"},attrs:{src:t.imgUrl,"preview-src-list":[t.imgUrl],fit:"contain"}}),t.compressResult.compressedSize?e("el-descriptions",{attrs:{title:"压缩信息",column:1}},[e("el-descriptions-item",{attrs:{label:"压缩前"}},[t._v(t._s(t.getSizeTrans(t.compressResult.originalSize)))]),e("el-descriptions-item",{attrs:{label:"压缩后"}},[t._v(t._s(t.getSizeTrans(t.compressResult.compressedSize)))]),e("el-descriptions-item",{attrs:{label:"压缩率"}},[t._v(t._s(t.compressResult.rateString))]),e("el-descriptions-item",{attrs:{label:"减少"}},[e("el-tag",{attrs:{size:"small",type:"success"}},[t._v(" -"+t._s((100*(1-t.compressResult.rate)).toFixed(2)+"%")+" ")])],1)],1):t._e()],1)],1)],1)},r=[]},6e3:function(t,e,s){s.d(e,{X:function(){return i},Y:function(){return r}});var i=function(){var t=this,e=t._self._c;return e("div",[e("el-alert",{attrs:{title:"使用webwork进行图片压缩, 不阻塞主线程, 大文件压缩时体验更好（只支持.png）",type:"success",closable:!1}}),e("div",{staticStyle:{display:"flex","margin-top":"10px"}},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:!1,"http-request":t.uploadImg,"show-file-list":!1,action:"/"}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.compressing,expression:"compressing"}],staticStyle:{display:"flex"}},[e("el-image",{staticStyle:{"margin-left":"40px",width:"180px",height:"180px","flex-shrink":"0"},attrs:{src:t.imgUrl,"preview-src-list":[t.imgUrl],fit:"contain"}}),t.compressResult.compressedSize?e("el-descriptions",{attrs:{title:"压缩信息",column:1}},[e("el-descriptions-item",{attrs:{label:"压缩前"}},[t._v(t._s(t.getSizeTrans(t.compressResult.originalSize)))]),e("el-descriptions-item",{attrs:{label:"压缩后"}},[t._v(t._s(t.getSizeTrans(t.compressResult.compressedSize)))]),e("el-descriptions-item",{attrs:{label:"压缩率"}},[t._v(t._s(t.compressResult.rateString))]),e("el-descriptions-item",{attrs:{label:"减少"}},[e("el-tag",{attrs:{size:"small",type:"success"}},[t._v(" -"+t._s((100*(1-t.compressResult.rate)).toFixed(2)+"%")+" ")])],1)],1):t._e()],1)],1)],1)},r=[]},8467:function(t,e,s){function i(){return new Worker(s.p+"js/imageWorker.worker.70279d87.worker.js")}s.d(e,{A:function(){return i}})},4352:function(t,e,s){s.a(t,(async function(t,i){try{s.d(e,{n:function(){return l}});var r=s(2473),n=s(8467),a=s(2311),o=t([a]);a=(o.then?(await o)():o)[0];class l{constructor(){(0,r.A)(this,"worker",null),this.worker=new n.A}async compress(t,e){const s=await a.A.getImage(t);return new Promise(((t,i)=>{this.worker.onmessage=e=>{const s=e.data;s.error&&!s.success?(console.error("Compression failed:",s.error),i(s.error)):t(s)},this.worker.postMessage({image:s,options:e})}))}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}i()}catch(l){i(l)}}))},8790:function(t,e,s){s.a(t,(async function(t,e){try{var i=s(2856),r=s(2096),n=s(4927),a=s.n(n),o=t([r]);r=(o.then?(await o)():o)[0],i["default"].use(a()),i["default"].config.productionTip=!1,new i["default"]({render:t=>t(r.A)}).$mount("#app"),e()}catch(l){e(l)}}))},2661:function(t,e,s){function i(t){return t<1024?String(t):t<1048576?parseInt(String(10*t/1024))/10+"K":t<1073741824?parseInt(String(10*t/1024/1024))/10+"M":parseInt(String(10*t/1024/1024/1024))/10+"G"}s.d(e,{h:function(){return i}})},5732:function(t,e,s){s.a(t,(async function(t,i){try{var r=s(1437),n=s(5511),a=s(3984),o=s(7772),l=t([r,n,a,o]);[r,n,a,o]=l.then?(await l)():l,e.A={name:"App",components:{Base:r.A,WebWork:n.A,Jpeg:a.A,CompressWorker:o.A},data(){return{activeName:"base",count:0,quality:50}},mounted(){setInterval((()=>{this.count++}),500)},methods:{handleClick(t,e){this.activeName=t.name}}},i()}catch(c){i(c)}}))},2109:function(t,e,s){s.a(t,(async function(t,i){try{s(4603),s(7566),s(8721);var r=s(2311),n=s(2661),a=t([r]);r=(a.then?(await a)():a)[0],e.A={name:"Base",components:{},props:{quality:{type:Number,default:85}},data(){return{imgUrl:"",compressResult:{}}},methods:{getSizeTrans:n.h,handleAvatarSuccess(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload(t){return!0},async uploadImg(t){const e=t.file;try{const t=await r.A.compress(e,{minimumQuality:0,quality:this.quality}),s=URL.createObjectURL(t.blob);new Image;this.imgUrl=s,this.compressResult=t}catch(s){console.log("error",s)}}}},i()}catch(o){i(o)}}))},7784:function(t,e,s){s.a(t,(async function(t,i){try{s(4603),s(7566),s(8721);var r=s(2661),n=s(4352),a=t([n]);n=(a.then?(await a)():a)[0],e.A={name:"CompressWorker",props:{quality:{type:Number,default:85}},data(){return{imgUrl:"",compressResult:{},compressing:!1}},mounted(){this.compressWorker=new n.n},methods:{getSizeTrans:r.h,async uploadImg(t){this.compressing=!0,this.compressWorker.compress(t.file,{minimumQuality:0,quality:this.quality}).then((t=>{console.log(t),this.compressing=!1;const e=URL.createObjectURL(t.blob);this.imgUrl=e,this.compressResult=t})).catch((t=>{console.error(t),this.compressing=!1}))}},beforeDestroy(){this.compressWorker&&this.compressWorker.terminate()}},i()}catch(o){i(o)}}))},4572:function(t,e,s){s.a(t,(async function(t,i){try{s(4603),s(7566),s(8721);var r=s(2311),n=s(2661),a=t([r]);r=(a.then?(await a)():a)[0],e.A={name:"Jpeg",props:{quality:{type:Number,default:85}},data(){return{imgUrl:"",compressResult:{},compressing:!1}},methods:{getSizeTrans:n.h,async uploadImg(t){this.compressing=!0;try{const e=await r.A.compressJpegImage(t.file,{quality:this.quality});console.log("compress result: ",e);const s=URL.createObjectURL(e.blob);this.imgUrl=s,this.compressResult=e}catch(t){this.$message.error(t.message)}finally{this.compressing=!1}}},beforeDestroy(){this.worker&&this.worker.terminate()}},i()}catch(o){i(o)}}))},8661:function(t,e,s){s.a(t,(async function(t,i){try{s(4603),s(7566),s(8721);var r=s(8467),n=s(2661),a=s(2311),o=t([a]);a=(o.then?(await o)():o)[0],e.A={name:"WebWorker",props:{quality:{type:Number,default:85}},data(){return{imgUrl:"",compressResult:{},compressing:!1}},mounted(){this.worker=new r.A,this.worker.onmessage=t=>{this.compressing=!1;const e=t.data;if(e.error&&!e.success)console.error("Compression failed:",e.error);else{const t=URL.createObjectURL(e.blob);this.imgUrl=t,this.compressResult=e,console.log("Compression result:",e)}}},methods:{getSizeTrans:n.h,async uploadImg(t){const e=t.file,s=await a.A.getImage(e);this.compressing=!0,this.worker.postMessage({image:s,options:{minimumQuality:0,quality:this.quality}})}},beforeDestroy(){this.worker&&this.worker.terminate()}},i()}catch(l){i(l)}}))}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){s.amdO={}}(),function(){var t="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=function(t){t&&t.d<1&&(t.d=1,t.forEach((function(t){t.r--})),t.forEach((function(t){t.r--?t.r++:t()})))},n=function(s){return s.map((function(s){if(null!==s&&"object"===typeof s){if(s[t])return s;if(s.then){var n=[];n.d=0,s.then((function(t){a[e]=t,r(n)}),(function(t){a[i]=t,r(n)}));var a={};return a[t]=function(t){t(n)},a}}var o={};return o[t]=function(){},o[e]=s,o}))};s.a=function(s,a,o){var l;o&&((l=[]).d=-1);var c,u,p,m=new Set,f=s.exports,d=new Promise((function(t,e){p=e,u=t}));d[e]=f,d[t]=function(t){l&&t(l),m.forEach(t),d["catch"]((function(){}))},s.exports=d,a((function(s){var r;c=n(s);var a=function(){return c.map((function(t){if(t[i])throw t[i];return t[e]}))},o=new Promise((function(e){r=function(){e(a)},r.r=0;var s=function(t){t!==l&&!m.has(t)&&(m.add(t),t&&!t.d&&(r.r++,t.push(r)))};c.map((function(e){e[t](s)}))}));return r.r?o:a()}),(function(t){t?p(d[i]=t):u(f),r(l)})),l&&l.d<0&&(l.d=0)}}(),function(){var t=[];s.O=function(e,i,r,n){if(!i){var a=1/0;for(u=0;u<t.length;u++){i=t[u][0],r=t[u][1],n=t[u][2];for(var o=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(o=!1,n<a&&(a=n));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[i,r,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){s.v=function(t,e,i,r){var n=fetch(s.p+""+i+".module.wasm"),a=function(){return n.then((function(t){return t.arrayBuffer()})).then((function(t){return WebAssembly.instantiate(t,r)})).then((function(e){return Object.assign(t,e.instance.exports)}))};return n.then((function(e){return"function"===typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(e,r).then((function(e){return Object.assign(t,e.instance.exports)}),(function(t){if("application/wasm"!==e.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t),a();throw t})):a()}))}}(),function(){s.p="/example/tinypng-demo/"}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,n,a=i[0],o=i[1],l=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)var u=l(s)}for(e&&e(i);c<a.length;c++)n=a[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},i=self["webpackChunkTinyPNG"]=self["webpackChunkTinyPNG"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(8790)}));i=s.O(i)})();
//# sourceMappingURL=app.bbd2ee3f.js.map